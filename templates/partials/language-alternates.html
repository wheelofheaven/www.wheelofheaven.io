<!-- Language Alternates -->
<!-- x-default for search engines to identify the default language version -->
<link rel="alternate" hreflang="x-default" href="{{ config.base_url }}/">
<!-- Current language -->
<link rel="alternate" hreflang="{{ lang }}" href="{{ current_url | safe }}">
<!-- Other languages -->
{% for lang_code, lang_config in config.languages %}
    {% if lang_code != lang %}
        {% if page %}
            {% set translation = page.translations | filter(attribute="lang", value=lang_code) | first %}
            {% if translation %}
        <link rel="alternate" hreflang="{{ lang_code }}" href="{{ translation.permalink }}">
            {% endif %}
        {% elif section %}
            {% set translation = section.translations | filter(attribute="lang", value=lang_code) | first %}
            {% if translation %}
        <link rel="alternate" hreflang="{{ lang_code }}" href="{{ translation.permalink }}">
            {% endif %}
        {% else %}
        <link rel="alternate" hreflang="{{ lang_code }}" href="{{ get_url(path='/', lang=lang_code) }}">
        {% endif %}
    {% endif %}
{% endfor %}
